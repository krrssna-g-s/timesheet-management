var TSM=TSM||{};TSM=function($){"use strict";function postscript(arg1,arg2){if(void 0!=arg1){var method=eval("("+arg1+")");method(arg2)}}function initModalOverlay(){$(".modal").each(function(){var a=$(this).outerHeight();$(this).css({bottom:-a+"px"})}),$("*[data-role]").removeAttr("click").on("click",function(){var a=$(this),b=a.data("role"),c=a.data("target"),d=a.attr("data-callback"),e=a.attr("data-row-from");if($(c).length)if("modal"===b){{$(c).outerHeight()}$(modalOverlay).fadeIn(400,function(){$(c).delay(200).show().animate({opacity:1,bottom:0},"slow"),$(c).find(".modal-content").hide(),$(c).find(".modal-content:first").show()}),postscript(d,e)}else"dismiss"===b&&($(c).fadeOut(400,function(){$(modalOverlay).fadeOut("fast")}),postscript(d,e))}),$("*[data-url]").on("click",function(){var a=$(this),b=a.data("url");window.location.href=b}),$("*[data-display]").on("click",function(){var a=$(this),b=a.data("display"),c=a.data("container");$(c).hide(),$(b).show()}),$(".accordion").length&&$(".accordion:first").find(".listing").show(),$accordionTrigger.on("click",function(){$(".listing").is(":visible")&&$(".listing").slideUp("fast"),$(this).next(".listing").slideToggle("fast")})}function updateFooterWidth(){var a=$("footer"),b=a.find("li"),c=b.width(),d=b.length,e=a.find("ul");e.css({width:c*d+"px"})}var modalOverlay="#modalOveray",modalTarget,$accordion=$(".accordion"),$accordionTrigger=$accordion.find("h2");return{init:function(){initModalOverlay(),updateFooterWidth()},initPreloader:function(a){var b=$("#preloader"),c=$(modalOverlay);"show"===a?(c.show(),b.show()):"hide"===a&&($(".modal").is(":visible")||c.hide(),b.hide())},loadModal:function(a,b){console.log(a,b),b?($(a).fadeIn("fast"),$(modalOverlay).fadeIn("fast")):($(a).fadeOut("fast"),$(modalOverlay).fadeOut("fast"))}}}(jQuery),$(document).ready(function(){TSM.init()});